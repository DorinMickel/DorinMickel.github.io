(this["webpackJsonphoa-committee"]=this["webpackJsonphoa-committee"]||[]).push([[0],{31:function(e,t,s){},39:function(e,t,s){},60:function(e){e.exports=JSON.parse('[{"communityName":"BlaBla","address":"Aluf Batslut 20","city":"Tel-Aviv"},{"communityName":"Vikishtatel","address":"King George 100","city":"Tel-Aviv"}]')},62:function(e){e.exports=JSON.parse('[{"userId":"1","communityName":"BlaBla","name":"Dorin Mickel","email":"test@test.com","pwd":"123","apt":"2","isCommitteeMember":"true"},{"userId":"2","communityName":"BlaBla","name":"Gabi Rozen","email":"gabi@gabi.com","pwd":"456","apt":"5","isCommitteeMember":"true"},{"userId":"3","communityName":"BlaBla","name":"Neta moabi","email":"neta@neta.com","pwd":"789","apt":"3","isCommitteeMember":"true"}]')},63:function(e){e.exports=JSON.parse('[{"title":"Plumbing work in the building","details":"On 19/05/2021 at 10:pm, there wil be Plumbing work in the building, hence the water will be off for a couple of hours","priority":"info","imgSrc":"","comments":[],"id":"2"}]')},64:function(e){e.exports=JSON.parse('[{"title":"A leak from the irrigation system","details":"the leak is in front of the building","priority":1,"imgSrc":"https://magazinelandonline.com/wp-content/uploads/2019/12/APOFRAXEIS-VYRONAS-3.jpg","comments":[],"id":"1","date":"22-05-2021"},{"title":"Plumbing work in the building","details":"On 19/05/2021 at 10:pm, there wil be Plumbing work in the building, hence the water will be off for a couple of hours","priority":0,"imgSrc":"","comments":[],"id":"2","date":"22-05-2021"}]')},69:function(e,t,s){},71:function(e,t,s){},81:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),i=s(29),l=s.n(i),r=(s(69),s(7)),c=s(8),o=s(10),d=s(9),m=(s(70),s(11)),j=(s(71),s(89)),p=s(91),h=(s(31),s.p+"static/media/maxresdefault.1754e671.jpg"),u=s(1),b=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)(j.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(j.a.Brand,{href:"/#/",children:"HOA Systems"}),Object(u.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(p.a,{className:"ml-auto",children:[Object(u.jsx)(p.a.Link,{href:"/#/login",children:"Login"}),Object(u.jsx)(p.a.Link,{href:"/#/signup",children:"Sign Up"})]})})]}),Object(u.jsx)("div",{className:"hompage-img",children:Object(u.jsx)("img",{src:h})})]})}}]),s}(n.a.Component),O=s(83),x=s(88),g=s(58),f=s(84),v=s(85),I=s(23),C=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).validateData=function(){a.props.allTenants.find((function(e){e.email.toLowerCase()===a.state.email.toLowerCase()&&e.pwd===a.state.pwd?(a.props.login(e),window.location.href="/#/dashboard"):a.setState({errorText:"Incorrect email address or password"})}))},a.state={email:"",pwd:"",errorText:""},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsxs)(O.a,{children:[Object(u.jsx)("h1",{children:"Welcome Back"}),Object(u.jsx)(x.a,{children:Object(u.jsxs)(g.a,{xs:!0,lg:"5",children:[this.state.errorText?Object(u.jsx)(f.a,{variant:"danger",onClose:function(){},dismissible:!0,children:this.state.errorText}):null,Object(u.jsxs)(x.a.Group,{controlId:"formGroupEmail",children:[Object(u.jsx)(x.a.Label,{children:"Email address"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email,type:"email",placeholder:"Enter email"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formGroupPassword",children:[Object(u.jsx)(x.a.Label,{children:"Password"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({pwd:t.target.value})},value:this.state.pwd,type:"password",placeholder:"Password"})]}),Object(u.jsx)(v.a,{onClick:this.validateData,variant:"primary",type:"button",children:"Log me in"}),Object(u.jsx)(I.b,{className:"login-linkToSignup",to:"/signup",children:"SignUp"})]})})]})}}]),s}(n.a.Component),y=s(90),S=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).CreateMember=function(){var e={userId:Object(y.a)(),name:a.state.name,email:a.state.email,pwd:a.state.pwd,isCommitteeMember:!0},t={communityName:a.state.communityName,address:a.state.address,city:a.state.city};a.props.allTenants.find((function(t){return t.email===e.email}))?a.setState({errorText:"Email adress is already exists. Please enter a new one, or try to login."}):(a.props.addNewTenant(e),a.props.addCommunity(t,e),window.location.href="/#/dashboard")},a.state={name:"",email:"",pwd:"",communityName:"",address:"",city:"",errorText:""},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsxs)(O.a,{children:[Object(u.jsx)("h1",{children:"Hello New Committee Member, Welcome Aboard!"}),Object(u.jsx)(x.a,{children:Object(u.jsxs)(g.a,{xs:!0,lg:"5",children:[Object(u.jsxs)(x.a.Group,{controlId:"formGroupFullName",children:[Object(u.jsx)(x.a.Label,{children:"Full Name"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({name:t.target.value})},type:"text",placeholder:"Enter your full name"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formGroupEmail",children:[Object(u.jsx)(x.a.Label,{children:"Email address"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({email:t.target.value})},type:"email",placeholder:"Enter email"})]}),this.state.errorText?Object(u.jsx)(f.a,{variant:"danger",onClose:function(){},dismissible:!0,children:this.state.errorText}):null,Object(u.jsxs)(x.a.Group,{controlId:"formGroupPassword",children:[Object(u.jsx)(x.a.Label,{children:"Password"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({pwd:t.target.value})},type:"password",placeholder:"Password"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formGroupCommunity",children:[Object(u.jsx)(x.a.Label,{children:"Community name"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({communityName:t.target.value})},placeholder:"Enter an original name"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formGridAddress",children:[Object(u.jsx)(x.a.Label,{children:"Address"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({address:t.target.value})},placeholder:"1234 Main St"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formGridCity",children:[Object(u.jsx)(x.a.Label,{children:"City"}),Object(u.jsx)(x.a.Control,{onChange:function(t){return e.setState({city:t.target.value})},placeholder:"Tel-Aviv"})]}),Object(u.jsx)(v.a,{onClick:this.CreateMember,variant:"primary",type:"button",children:"Sign me up"}),Object(u.jsx)(I.b,{className:"signup-linkToLogin",to:"/login",children:"Login"})]})})]})}}]),s}(n.a.Component),N=s(60),M=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsx)(O.a,{children:this.props.children})}}]),s}(n.a.Component),w=Object(m.e)(M),T=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsxs)(j.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(j.a.Brand,{href:"/#/",children:"HOA Systems"}),Object(u.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsxs)(j.a.Collapse,{id:"basic-navbar-nav",children:[Object(u.jsxs)(p.a,{className:"mr-auto",children:[Object(u.jsx)(p.a.Link,{href:"/#/dashboard",children:"Dashboard"}),this.props.activeUser.isCommitteeMember?Object(u.jsx)(p.a.Link,{href:"/#/tenants",children:"Tenants"}):null,Object(u.jsx)(p.a.Link,{href:"/#/messages",children:"Messages"}),Object(u.jsx)(p.a.Link,{href:"/#/issues",children:"Issues"}),Object(u.jsx)(p.a.Link,{href:"/#/voting",children:"Voting"})]}),Object(u.jsx)(p.a,{className:"ml-auto",children:Object(u.jsx)(p.a.Link,{href:"/#/",children:"Logout"})})]})]})}}]),s}(n.a.Component),U=s(27),k=s(92),D=s(87),B=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).showDetails=function(e){var t=a.props.allTenants.indexOf(e);a.setState({index:t,name:e.name,email:e.email,apt:e.apt,isTenantDetailsOpen:!a.state.isTenantDetailsOpen})},a.openModal=function(){a.setState({isModalOpen:!0,index:-1,name:"",email:"",pwd:"",apt:""})},a.closeModal=function(){a.setState({isModalOpen:!1,isUpdateModalOpen:!1})},a.addTanent=function(){var e={userId:Object(y.a)(),name:a.state.name,email:a.state.email,pwd:a.state.pwd,apt:a.state.apt};a.closeModal(),a.props.addNewTenant(e)},a.filteredTenants=function(e){a.setState({filterText:e.target.value})},a.deleteTenant=function(){var e=a.state.index;a.props.deleteTenant(e),a.setState({isTenantDetailsOpen:!1})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.updateTenantDetails=function(e){a.setState({isUpdateModalOpen:!0,index:e})},a.editTenantDetails=function(){var e={userId:a.state.userId,name:a.state.name,email:a.state.email,pwd:a.state.pwd,apt:a.state.apt};a.closeModal(),a.props.editTenantDetails(e,a.state.index)},a.state={index:-1,name:"",email:"",pwd:"",apt:"",isTenantDetailsOpen:!1,isModalOpen:!1,isUpdateModalOpen:!1,filterText:""},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.allTenants.filter((function(t){var s=e.state.filterText;return t.name.toLowerCase().includes(s)||t.email.includes(s)||t.apt.includes(s)||""===s})).map((function(t,s){return Object(u.jsxs)("div",{children:[Object(u.jsx)(k.a.Item,{action:!0,onClick:function(){return e.showDetails(t)},className:"tenants-list",children:t.name}),Object(u.jsxs)("div",{className:e.state.isTenantDetailsOpen&&e.state.index===e.props.allTenants.indexOf(t)?"tenant-details":"close",children:[Object(u.jsx)("div",{children:"Name: ".concat(e.state.name)}),Object(u.jsx)("div",{children:"Email: ".concat(e.state.email)}),Object(u.jsx)("div",{children:"Apt: ".concat(e.state.apt)}),Object(u.jsxs)("div",{className:"tenant-changes-btn",children:[Object(u.jsx)(v.a,{onClick:function(){return e.updateTenantDetails(s)},children:"Update"}),Object(u.jsx)(v.a,{onClick:e.deleteTenant,variant:"danger",children:"Delete"})]})]})]})}));return Object(u.jsxs)(O.a,{className:"p-tenants",children:[Object(u.jsxs)(x.a,{className:"tenant-filter-box",children:[Object(u.jsx)("button",{disabled:!0,className:"tenant-filter-button",children:Object(u.jsx)("img",{src:"https://www.kindacode.com/wp-content/uploads/2020/12/search.png"})}),Object(u.jsx)(x.a.Control,{onChange:this.filteredTenants,value:this.state.filterText,className:"tenant-search-input",type:"text",placeholder:"Filter"})]}),Object(u.jsx)(v.a,{onClick:this.openModal,className:"add-tenant-btn",type:"button",children:"Add Tenant"}),Object(u.jsxs)(D.a.Dialog,{className:this.state.isModalOpen||this.state.isUpdateModalOpen?"add-tenant-modal":"close",children:[Object(u.jsx)(D.a.Header,{closeButton:!0,children:Object(u.jsx)(D.a.Title,{children:"Add new tenant"})}),Object(u.jsx)(D.a.Body,{children:Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Full name"}),Object(u.jsx)(x.a.Control,{name:"name",onChange:this.handleChange,value:this.state.name,type:"text",placeholder:"Enter name"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formBasicEmail",children:[Object(u.jsx)(x.a.Label,{children:"Email address"}),Object(u.jsx)(x.a.Control,{name:"email",onChange:this.handleChange,value:this.state.email,type:"email",placeholder:"Enter email"})]}),Object(u.jsxs)(x.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(x.a.Label,{children:"Password"}),Object(u.jsx)(x.a.Control,{name:"pwd",onChange:this.handleChange,value:this.state.pwd,type:"text",placeholder:"Choose password"})]}),Object(u.jsxs)(x.a.Group,{children:[Object(u.jsx)(x.a.Label,{children:"Apartment"}),Object(u.jsx)(x.a.Control,{name:"apt",onChange:this.handleChange,value:this.state.apt,type:"text",placeholder:"#apt"})]}),Object(u.jsx)(x.a.Group,{controlId:"formBasicCheckbox",children:Object(u.jsx)(x.a.Check,{type:"checkbox",label:"Committee member"})})]})}),Object(u.jsxs)(D.a.Footer,{children:[Object(u.jsx)(v.a,{onClick:this.closeModal,variant:"secondary",children:"Close"}),Object(u.jsx)(v.a,{variant:"primary",onClick:this.state.isModalOpen&&!this.state.isUpdateModalOpen?this.addTanent:this.editTenantDetails,children:"Save changes"})]})]}),Object(u.jsx)(k.a,{children:t})]})}}]),s}(n.a.Component),L=s(62),G=s(47),P=s(17),J=s(36),A=s.n(J),E=s(86),F=(s(39),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).filterByPriority=function(e){var t=e.target.value;a.props.filterIssues?a.props.filterIssues(t):a.props.filterMessages(t)},a.searchWithText=function(e){var t=e.target.value;a.props.searchIssues?a.props.searchIssues(t):a.props.searchMessage(t)},a.sortByPriority=function(){a.props.sortingByPriority(!0)},a.sortByDate=function(){a.props.sortingByPriority(!1)},a.state={item:""},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsx)(x.a,{className:"messages-filter-sort",children:Object(u.jsxs)(x.a.Row,{className:this.props.IssuesSort?"justify-content-around":"justify-content-start",children:[Object(u.jsxs)(x.a.Group,{as:g.a,sm:6,children:[Object(u.jsx)("button",{disabled:!0,className:"tenant-filter-button",children:Object(u.jsx)("img",{src:"https://www.kindacode.com/wp-content/uploads/2020/12/search.png"})}),Object(u.jsx)(x.a.Control,{onChange:this.searchWithText,className:"message-filter-input",type:"text",placeholder:"Search"})]}),Object(u.jsx)(x.a.Group,{as:g.a,sm:3,controlId:"formGridState",children:Object(u.jsxs)(x.a.Control,{onChange:this.filterByPriority,as:"select",defaultValue:"Filter by priority",children:[Object(u.jsx)("option",{value:"",children:"Filter by priority"}),this.props.priorityOptions]})}),this.props.IssuesSort?Object(u.jsxs)(x.a.Group,{as:E.a,sm:3,children:[Object(u.jsx)(x.a.Label,{as:"legend",column:!0,children:"Sort By:"}),Object(u.jsx)(x.a.Check,{onChange:this.sortByDate,className:"align-self-center",name:"sort",type:"radio",label:"Date"}),Object(u.jsx)(x.a.Check,{onChange:this.sortByPriority,className:"align-self-center",name:"sort",type:"radio",label:"Priority"})]}):null]})})}}]),s}(n.a.Component)),R=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).deleteItem=function(){var e=a.props.selectedIndex;a.props.removeItem(e),a.props.deletedItem(!1)},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.addComment=function(){var e={userName:a.props.activeUser.name,comment:a.state.comment};a.props.addNewComment(e),a.setState({comment:""})},a.openUpdateIssueModal=function(){var e=Object(P.a)({},a.props.selectedItem);a.setState({isUpdateModalOpen:!0,title:e.title,details:e.details,priority:["Normal","Important","Urgent"][e.priority],imgSrc:e.imgSrc,index:a.props.selectedIndex})},a.openUpdateMessageModal=function(){var e=Object(P.a)({},a.props.selectedItem);a.setState({isUpdateModalOpen:!0,title:e.title,details:e.details,priority:e.priority,imgSrc:e.imgSrc,index:a.props.selectedIndex})},a.closeModal=function(){a.setState({isUpdateModalOpen:!1})},a.editItemDetails=function(){var e={title:a.state.title,details:a.state.details,priority:a.state.priority,imgSrc:a.state.imgSrc,index:a.state.index};a.props.updateItemDetails(e),a.props.closeContent(!1),a.closeModal()},a.state={isUpdateModalOpen:!1,index:-1},a}return Object(c.a)(s,[{key:"render",value:function(){console.log(this.props.selectedItem);var e=Object(P.a)({},this.props.activeUser),t=this.props.selectedItem.comments.map((function(e){return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{children:e.userName}),":",Object(u.jsx)("div",{className:"comment-content ml-2",children:e.comment})]})}));return Object(u.jsxs)("div",{className:this.props.isOpen&&this.props.index===this.props.selectedIndex?"issue-details":"close",children:[Object(u.jsx)("div",{className:"issue-img",children:Object(u.jsx)("img",{src:this.props.selectedItem.imgSrc})}),Object(u.jsxs)("div",{className:"d-flex pb-0 flex-column issue-info",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("label",{className:"mr-2 p-0",children:"Details:"}),Object(u.jsx)("p",{className:" p-0",children:this.props.selectedItem.details})]}),Object(u.jsxs)("div",{className:"d-flex ",children:[Object(u.jsx)("label",{className:"mr-2 p-0",children:"Priority:"}),Object(u.jsx)("p",{className:"p-0",children:this.props.IssueUpdateDeleteBtn?["Normal","Important","Urgent"][this.props.selectedItem.priority]:this.props.selectedItem.priority})]}),this.props.IssueUpdateDeleteBtn&&this.props.selectedItem.userId===e.userId||e.isCommitteeMember&&this.props.MessagesUpdateDeleteBtn?Object(u.jsxs)("div",{className:"align-self-end mt-auto ",children:[Object(u.jsx)(v.a,{onClick:this.props.IssueUpdateDeleteBtn?this.openUpdateIssueModal:this.openUpdateMessageModal,type:"button",children:"Update"}),Object(u.jsx)(v.a,{onClick:this.deleteItem,className:"ml-1",variant:"danger",children:this.props.deleteBtnText})]}):null,Object(u.jsx)("div",{className:"c-new-issue-modal",children:Object(u.jsxs)(D.a.Dialog,{size:"lg","aria-labelledby":"example-modal-sizes-title-lg",className:this.state.isUpdateModalOpen?"new-issue-modal":"close",children:[Object(u.jsx)(D.a.Header,{closeButton:!0,children:Object(u.jsx)(D.a.Title,{children:this.props.UpdateModalTitle})}),Object(u.jsx)(D.a.Body,{children:Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Title: "}),Object(u.jsx)(g.a,{sm:10,children:Object(u.jsx)(x.a.Control,{name:"title",onChange:this.handleChange,value:this.state.title,required:!0,type:"text"})})]}),Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Details"}),Object(u.jsx)(g.a,{sm:10,children:Object(u.jsx)(x.a.Control,{name:"details",onChange:this.handleChange,value:this.state.details,required:!0,as:"textarea",rows:3})})]}),Object(u.jsxs)(x.a.Group,{as:E.a,controlId:"exampleForm.ControlSelect1",children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Priority"}),Object(u.jsx)(g.a,{sm:10,children:Object(u.jsx)(x.a.Control,{name:"priority",onChange:this.handleChange,value:this.state.priority,as:"select",children:this.props.priorityOptions})})]}),Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"image URL:"}),Object(u.jsxs)(g.a,{sm:10,children:[Object(u.jsx)(x.a.Control,{name:"imgSrc",onChange:this.handleChange,value:this.state.imgSrc,type:"text"}),Object(u.jsx)("img",{src:""})]})]})]})}),Object(u.jsxs)(D.a.Footer,{children:[Object(u.jsx)(v.a,{onClick:this.closeModal,variant:"secondary",children:"Close"}),Object(u.jsx)(v.a,{onClick:this.editItemDetails,variant:"primary",children:"Save Changes"})]})]})})]}),Object(u.jsx)("div",{className:"flex-fill members-comments",children:Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,children:"Comments:"}),Object(u.jsx)("div",{children:t}),Object(u.jsx)(g.a,{sm:15,children:Object(u.jsx)(x.a.Control,{name:"comment",onChange:this.handleChange,value:this.state.comment,as:"textarea",lg:6,rows:3})})]})}),Object(u.jsx)("div",{className:"issue-details-btn",children:Object(u.jsx)(v.a,{onClick:this.addComment,type:"button",children:"Add Comment"})})]})}}]),s}(n.a.Component),Y=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"c-modal-btn",children:Object(u.jsx)(v.a,{onClick:function(){return e.props.openModal(!0)},type:"button",children:this.props.buttonText})})}}]),s}(n.a.Component),z=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).openModal=function(){a.setState({isModalOpen:!0,title:"",details:"",priority:a.props.priority,imgSrc:""})},a.handleChange=function(e){a.setState(Object(U.a)({},e.target.name,e.target.value))},a.closeModal=function(){!0===a.state.isModalOpen?a.setState({isModalOpen:!1}):a.props.openUpdateModal(!1)},a.addNewItem=function(){var e=new Date,t={id:Object(y.a)(),userId:a.props.activeUser.userId,title:a.state.title,details:a.state.details,priority:a.state.priority,imgSrc:a.state.imgSrc,comments:[],date:e};console.log(a.state.priority),!0===a.state.isModalOpen&&a.props.createNewItem(t),a.closeModal()},a.state={isModalOpen:!1,validated:!1,setValidated:!1},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"c-new-issue-modal",children:[this.props.activeUser.isCommitteeMember||this.props.tenantCreateIssue?Object(u.jsx)(Y,{openModal:this.openModal,buttonText:this.props.buttonText}):null,Object(u.jsxs)(D.a.Dialog,{size:"lg","aria-labelledby":"example-modal-sizes-title-lg",className:this.state.isModalOpen||this.props.isUpdateModalOpen?"new-issue-modal":"close",children:[Object(u.jsx)(D.a.Header,{closeButton:!0,children:Object(u.jsx)(D.a.Title,{children:this.props.modalTitle})}),Object(u.jsx)(D.a.Body,{children:Object(u.jsxs)(x.a,{noValidate:!0,validated:this.validated,children:[Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Title: "}),Object(u.jsxs)(g.a,{sm:10,children:[Object(u.jsx)(x.a.Control,{name:"title",onChange:this.handleChange,value:this.state.title,required:!0,type:"text"}),Object(u.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter item title"})]})]}),Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Details"}),Object(u.jsxs)(g.a,{sm:10,children:[Object(u.jsx)(x.a.Control,{name:"details",onChange:this.handleChange,value:this.state.details,required:!0,as:"textarea",rows:3}),Object(u.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Please enter item details"})]})]}),Object(u.jsxs)(x.a.Group,{as:E.a,controlId:"exampleForm.ControlSelect1",children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"Priority"}),Object(u.jsx)(g.a,{sm:10,children:Object(u.jsx)(x.a.Control,{name:"priority",onChange:this.handleChange,value:this.state.priority,as:"select",children:this.props.priorityOptions})})]}),Object(u.jsxs)(x.a.Group,{as:E.a,children:[Object(u.jsx)(x.a.Label,{column:!0,sm:2,children:"image URL:"}),Object(u.jsxs)(g.a,{sm:10,children:[Object(u.jsx)(x.a.Control,{name:"imgSrc",onChange:this.handleChange,value:this.state.imgSrc,type:"text"}),Object(u.jsx)("img",{src:""})]})]})]})}),Object(u.jsxs)(D.a.Footer,{children:[Object(u.jsx)(v.a,{onClick:this.closeModal,variant:"secondary",children:"Close"}),Object(u.jsx)(v.a,{onClick:this.addNewItem,variant:"primary",children:this.props.createBtnText})]})]})]})}}]),s}(n.a.Component),H=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).openMessage=function(e,t){a.setState({isOpen:!a.state.isOpen,selectedIndex:t,selectedItem:Object(P.a)({},e)})},a.addNewComment=function(e){var t=Object(G.a)(a.state.selectedItem.comments).concat(e),s=Object(P.a)(Object(P.a)({},a.state.selectedItem),{},{comments:t});a.setState({selectedItem:s}),a.props.addMessageComment(t,a.state.selectedIndex)},a.deletedItem=function(e){a.setState({isOpen:e})},a.filterMessages=function(e){a.setState({filterOption:e})},a.searchMessage=function(e){a.setState({searchText:e})},a.closeContent=function(e){a.setState({isOpen:e})},a.state={isModalOpen:!1,isOpen:!1,selectedItem:{comments:[]},index:-1,title:"",details:"",priority:"info",imgSrc:"",filterOption:"",searchText:"",isUpdateModalOpen:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.props.allMessages.filter((function(t){return(t.priority===e.state.filterOption||""===e.state.filterOption)&&(t.title.toLowerCase().includes(e.state.searchText.toLowerCase())||t.title.toLowerCase().includes(e.state.searchText.toLowerCase()))})).map((function(t,s){return Object(u.jsxs)("div",{children:[Object(u.jsxs)(k.a.Item,{className:"d-flex justify-content-between messages-list-items",onClick:function(){return e.openMessage(t,s)},children:[Object(u.jsx)("div",{children:t.title}),Object(u.jsxs)("div",{children:["Posted on: ",Object(u.jsx)(A.a,{fromDate:!0,format:"DD-MM-YYYY",children:t.date})]})]}),Object(u.jsx)(R,{allMessages:e.props.allMessages,isOpen:e.state.isOpen,index:s,selectedIndex:e.state.selectedIndex,selectedItem:e.state.selectedItem,removeItem:e.props.removeMessage,deletedItem:e.deletedItem,addNewComment:e.addNewComment,activeUser:e.props.activeUser,deleteBtnText:"Delete Message",UpdateModalTitle:"Update Message Details",MessagesUpdateDeleteBtn:!0,closeContent:e.closeContent,priorityOptions:[Object(u.jsx)("option",{value:"info",children:"Info"}),Object(u.jsx)("option",{value:"important",children:"Important!"})],updateItemDetails:e.props.updateItemDetails})]})})).reverse();return Object(u.jsxs)(O.a,{className:"p-messages",children:["/messages"===this.props.location.pathname&&Object(u.jsx)(F,{priorityOptions:[Object(u.jsx)("option",{value:"info",children:"Info"}),Object(u.jsx)("option",{value:"important",children:"Important!"})],allMessages:this.props.allMessages,filterMessages:this.filterMessages,searchMessage:this.searchMessage}),"/messages"===this.props.location.pathname&&Object(u.jsx)(z,{createNewItem:this.props.createNewItem,activeUser:this.props.activeUser,buttonText:"New Message",modalTitle:"Write a new message",priorityOptions:[Object(u.jsx)("option",{value:"info",children:"Info"}),Object(u.jsx)("option",{value:"important",children:"Important!"})],createBtnText:"Create",priority:this.state.priority}),Object(u.jsx)(k.a,{className:"messages-list",children:t})]})}}]),s}(n.a.Component),V=Object(m.e)(H),W=s(63),q=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).showIssue=function(e,t){var s=t;a.setState({isOpen:!a.state.isOpen,selectedIndex:s,selectedItem:Object(P.a)({},e)})},a.deletedItem=function(e){a.setState({isOpen:e})},a.filterIssues=function(e){a.setState({filterOption:e})},a.addNewComment=function(e){var t=Object(G.a)(a.state.selectedItem.comments).concat(e),s=Object(P.a)(Object(P.a)({},a.state.selectedItem),{},{comments:t});a.setState({selectedItem:s}),a.props.addIssueComment(t,a.state.selectedIndex)},a.searchIssues=function(e){a.setState({searchText:e})},a.sortingByPriority=function(e){a.setState({prioritySort:e})},a.closeContent=function(e){a.setState({isOpen:e})},a.state={isOpen:!1,selectedIndex:-1,selectedItem:{comments:[]},filterOption:"",searchText:"",prioritySort:!1,isUpdateModalOpen:!1,priority:0,title:"",details:"",imgSrc:""},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=["Normal","Important","Urgent"],s=Object(P.a)({},this.props.activeUser),a=(new Date,this.props.allIssues.slice().sort((function(t,s){return e.state.prioritySort?t.priority-s.priority:0})).filter((function(s){return(t[s.priority]===e.state.filterOption||""===e.state.filterOption)&&(s.title.toLowerCase().includes(e.state.searchText.toLowerCase())||s.details.toLowerCase().includes(e.state.searchText.toLowerCase()))})).map((function(t,a){return Object(u.jsxs)("div",{children:[Object(u.jsxs)(k.a.Item,{className:"d-flex justify-content-between issues-list-items",onClick:function(){return e.showIssue(t,a)},children:[Object(u.jsx)("div",{children:t.title}),Object(u.jsxs)("div",{children:["Issued on: ",Object(u.jsx)(A.a,{fromDate:!0,format:"DD-MM-YYYY",children:t.date})]})]}),Object(u.jsx)(R,{allIssues:e.props.allIssues,isOpen:e.state.isOpen,index:a,selectedIndex:e.state.selectedIndex,selectedItem:e.state.selectedItem,removeItem:e.props.removeIssue,deletedItem:e.deletedItem,addNewComment:e.addNewComment,activeUser:s,deleteBtnText:"Resolve Issue",UpdateModalTitle:"Update Issue Details",IssueUpdateDeleteBtn:!0,closeContent:e.closeContent,priorityOptions:[Object(u.jsx)("option",{value:0,children:"Normal"}),Object(u.jsx)("option",{value:1,children:"Important"}),Object(u.jsx)("option",{value:2,children:"Urgent"})],updateItemDetails:e.props.updateItemDetails})]},a)})).reverse());return Object(u.jsxs)(O.a,{className:"p-issues",children:["/issues"===this.props.location.pathname&&Object(u.jsx)(F,{priorityOptions:[Object(u.jsx)("option",{value:"Normal",children:"Normal"}),Object(u.jsx)("option",{value:"Important",children:"Important"}),Object(u.jsx)("option",{value:"Urgent",children:"Urgent"})],filterIssues:this.filterIssues,searchIssues:this.searchIssues,IssuesSort:!0,sortingByPriority:this.sortingByPriority}),"/issues"===this.props.location.pathname&&Object(u.jsx)(z,{createNewItem:this.props.createNewItem,activeUser:this.props.activeUser,buttonText:"Report an issue",modalTitle:"Elaborate the issue",priorityOptions:[Object(u.jsx)("option",{value:0,children:"Normal"}),Object(u.jsx)("option",{value:1,children:"Important"}),Object(u.jsx)("option",{value:2,children:"Urgent"})],priority:this.state.priority,createBtnText:"Report",tenantCreateIssue:!0}),a]})}}]),s}(n.a.Component),K=Object(m.e)(q),X=s(64),Q=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){return Object(r.a)(this,s),t.call(this,e)}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsx)(O.a,{children:Object(u.jsx)("h1",{className:"mt-5 text-center",children:"There is nothing here at the moment"})})}}]),s}(n.a.Component),Z=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),(a=t.call(this,e)).addCommunity=function(e,t){var s=JSON.stringify(a.state.allCommunities.concat(e));localStorage.localCommunities=s,a.setState({allCommunities:a.state.allCommunities.concat(e),activeUser:t})},a.addNewTenant=function(e){var t=JSON.stringify(a.state.allTenants.concat(e));localStorage.localTenants=t,a.setState({allTenants:a.state.allTenants.concat(e)})},a.deleteTenant=function(e){var t=a.state.allTenants.filter((function(t,s){return s!==e}));localStorage.localTenants=JSON.stringify(t),a.setState({allTenants:t})},a.removeIssue=function(e){var t=a.state.allIssues.filter((function(t,s){return s!==e}));localStorage.localIssues=JSON.stringify(t),a.setState({allIssues:t})},a.removeMessage=function(e){var t=a.state.allMessages.filter((function(t,s){return s!==e}));localStorage.localMesagges=JSON.stringify(t),a.setState({allMessages:t})},a.createNewMessage=function(e){var t=JSON.stringify(a.state.allMessages.concat(e));localStorage.localMesagges=t,a.setState({allMessages:a.state.allMessages.concat(e)})},a.reportNewIssue=function(e){var t=JSON.stringify(a.state.allIssues.concat(e));localStorage.localIssues=t,a.setState({allIssues:a.state.allIssues.concat(e)}),console.log(a.state.allIssues)},a.addIssueComment=function(e,t){a.state.allIssues[t].comments=e,a.setState({allIssues:a.state.allIssues}),localStorage.localIssues=JSON.stringify(a.state.allIssues)},a.addMessageComment=function(e,t){a.state.allMessages[t].comments=e,a.setState({allMessages:a.state.allMessages}),localStorage.localMessages=JSON.stringify(a.state.allMessages)},a.updateIssueItem=function(e){var t=a.state.allIssues[e.index];t.title=e.title,t.details=e.details,t.priority=e.priority,t.imgSrc=e.imgSrc,a.setState({allIssues:a.state.allIssues}),localStorage.localIssues=JSON.stringify(a.state.allIssues)},a.updateMessageItem=function(e){var t=a.state.allMessages[e.index];t.title=e.title,t.details=e.details,t.priority=e.priority,t.imgSrc=e.imgSrc,a.setState({allMessages:a.state.allMessages}),localStorage.localMessages=JSON.stringify(a.state.allMessages)},a.editTenantDetails=function(e,t){var s=a.state.allTenants[t];s.name=e.name,s.email=e.email,s.pwd=e.pwd,s.apt=e.apt,a.setState({allTenants:a.state.allTenants}),localStorage.localTenants=JSON.stringify(a.state.allTenants)},a.logout=function(){a.setState({activeUser:null})},a.login=function(e){a.setState({activeUser:e})};var n=[];n=localStorage.localCommunities?JSON.parse(localStorage.localCommunities):N;var i=[];i=localStorage.localTenants?JSON.parse(localStorage.localTenants):L;var l=[];l=localStorage.localMesagges?JSON.parse(localStorage.localMesagges):W;var c=[];return c=localStorage.localIssues?JSON.parse(localStorage.localIssues):X,a.state={allCommunities:n,allTenants:i,allMessages:l,allIssues:c,activeUser:{userId:1,communityName:"BlaBla",name:"Dorin Mickel",email:"test@test.com",pwd:123,apt:2,isCommitteeMember:!0}},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(m.a,{exact:!0,path:"/",children:Object(u.jsx)(b,{})}),Object(u.jsx)(m.a,{exact:!0,path:"/signup",children:Object(u.jsx)(S,{addCommunity:this.addCommunity,addNewTenant:this.addNewTenant,allTenants:this.state.allTenants,allCommunities:this.state.allCommunities})}),Object(u.jsx)(m.a,{exact:!0,path:"/login",children:Object(u.jsx)(C,{allTenants:this.state.allTenants,login:this.login})}),Object(u.jsx)(m.a,{exact:!0,path:["/dashboard","/tenants","/messages","/issues","/voting"],children:Object(u.jsx)(T,{activeUser:this.state.activeUser})}),Object(u.jsx)(m.a,{exact:!0,path:"/dashboard",children:Object(u.jsxs)(w,{activeUser:this.state.activeUser,children:[Object(u.jsxs)("div",{className:"messages-dashboard",children:[Object(u.jsxs)("h2",{className:"d-flex",children:["New Messages ",Object(u.jsx)("div",{className:"ml-3 mt-2 number-of-items",children:this.state.allMessages.length})]}),Object(u.jsx)(V,{allMessages:this.state.allMessages})]}),Object(u.jsxs)("div",{className:"issues-dashboard d-flex flex-fill",children:[Object(u.jsxs)("div",{className:"flex-fill",children:[Object(u.jsxs)("h2",{className:"d-flex",children:["New Issues ",Object(u.jsx)("div",{className:"ml-3 mt-2 number-of-items",children:this.state.allIssues.length})]}),Object(u.jsx)(K,{allIssues:this.state.allIssues})]}),Object(u.jsxs)("div",{className:"resolved-issues-dashboard flex-fill",children:[Object(u.jsxs)("h2",{className:"d-flex",children:["Resolved Issues ",Object(u.jsx)("div",{className:"ml-3 mt-2 number-of-items",children:"0"})]}),"There are no resolved issues to show"]})]})]})}),Object(u.jsx)(m.a,{exact:!0,path:"/tenants",children:Object(u.jsx)(B,{allTenants:this.state.allTenants,addNewTenant:this.addNewTenant,deleteTenant:this.deleteTenant,editTenantDetails:this.editTenantDetails})}),Object(u.jsx)(m.a,{exact:!0,path:"/messages",children:Object(u.jsx)(V,{allMessages:this.state.allMessages,activeUser:this.state.activeUser,createNewItem:this.createNewMessage,removeMessage:this.removeMessage,addMessageComment:this.addMessageComment,updateItemDetails:this.updateMessageItem})}),Object(u.jsx)(m.a,{exact:!0,path:"/issues",children:Object(u.jsx)(K,{allIssues:this.state.allIssues,activeUser:this.state.activeUser,createNewItem:this.reportNewIssue,removeIssue:this.removeIssue,addIssueComment:this.addIssueComment,updateItem:this.updateIssueItem,updateItemDetails:this.updateIssueItem})}),Object(u.jsx)(m.a,{exact:!0,path:"/voting",children:Object(u.jsx)(Q,{})})]})}}]),s}(n.a.Component);l.a.render(Object(u.jsx)(I.a,{children:Object(u.jsx)(Z,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.ef209ae3.chunk.js.map